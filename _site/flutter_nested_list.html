<!DOCTYPE html> <html lang="en"> <head> <meta charset="UTF-8"> <meta http-equiv="X-UA-Compatible" content="IE=Edge"> <title>Alternatif Nested List - hello world</title> <link rel="shortcut icon" href="http://localhost:4000/favicon.ico" type="image/x-icon"> <link rel="stylesheet" href="http://localhost:4000/assets/css/just-the-docs-default.css"> <script type="text/javascript" src="http://localhost:4000/assets/js/vendor/lunr.min.js"></script> <script type="text/javascript" src="http://localhost:4000/assets/js/just-the-docs.js"></script> <meta name="viewport" content="width=device-width, initial-scale=1"> <!-- Begin Jekyll SEO tag v2.5.0 --> <title>Alternatif Nested List | hello world</title> <meta name="generator" content="Jekyll v3.8.5" /> <meta property="og:title" content="Alternatif Nested List" /> <meta property="og:locale" content="en" /> <meta name="description" content="Write an awesome description for your new site here. You can edit this line in _config.yml. It will appear in your document head meta (for Google search results) and in your feed.xml site description." /> <meta property="og:description" content="Write an awesome description for your new site here. You can edit this line in _config.yml. It will appear in your document head meta (for Google search results) and in your feed.xml site description." /> <link rel="canonical" href="http://localhost:4000/flutter_nested_list.html" /> <meta property="og:url" content="http://localhost:4000/flutter_nested_list.html" /> <meta property="og:site_name" content="hello world" /> <script type="application/ld+json"> {"@type":"WebPage","url":"http://localhost:4000/flutter_nested_list.html","headline":"Alternatif Nested List","description":"Write an awesome description for your new site here. You can edit this line in _config.yml. It will appear in your document head meta (for Google search results) and in your feed.xml site description.","@context":"http://schema.org"}</script> <!-- End Jekyll SEO tag --> </head> <body> <svg xmlns="http://www.w3.org/2000/svg" style="display: none;"> <symbol id="svg-link" viewBox="0 0 24 24"> <title>Link</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-link"> <path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path> </svg> </symbol> <symbol id="svg-search" viewBox="0 0 24 24"> <title>Search</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-search"> <circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line> </svg> </symbol> <symbol id="svg-menu" viewBox="0 0 24 24"> <title>Menu</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu"> <line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line> </svg> </symbol> <symbol id="svg-arrow-right" viewBox="0 0 24 24"> <title>Expand</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-right"> <polyline points="9 18 15 12 9 6"></polyline> </svg> </symbol> <symbol id="svg-doc" viewBox="0 0 24 24"> <title>Document</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file"> <path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path><polyline points="13 2 13 9 20 9"></polyline> </svg> </symbol> </svg> <div class="side-bar"> <div class="site-header"> <a href="http://localhost:4000/" class="site-title lh-tight"> hello world </a> <a href="#" id="menu-button" class="site-button"> <svg viewBox="0 0 24 24" class="icon"><use xlink:href="#svg-menu"></use></svg> </a> </div> <nav role="navigation" aria-label="Main" id="site-nav" class="site-nav"> <ul class="nav-list"><li class="nav-list-item"><a href="http://localhost:4000/" class="nav-list-link">About</a></li><li class="nav-list-item active"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="http://localhost:4000/flutter_2.html" class="nav-list-link">Flutter Cheatsheet</a><ul class="nav-list "><li class="nav-list-item active"><a href="http://localhost:4000/flutter_nested_list.html" class="nav-list-link active">Alternatif Nested List</a></li><li class="nav-list-item "><a href="http://localhost:4000/multimedia_encryption_example.html" class="nav-list-link">Enkripsi Konten Multimedia</a></li><li class="nav-list-item "><a href="http://localhost:4000/singleton_service_example.html" class="nav-list-link">Singleton Object</a></li><li class="nav-list-item "><a href="http://localhost:4000/state_management_example.html" class="nav-list-link">State Management</a></li><li class="nav-list-item "><a href="http://localhost:4000/state_management_eventbus_example.html" class="nav-list-link">State Management - Eventbus</a></li></ul></li><li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="http://localhost:4000/flutter_1.html" class="nav-list-link">Messing with Flutter</a><ul class="nav-list "><li class="nav-list-item "><a href="http://localhost:4000/play_asset_flutter.html" class="nav-list-link">Play Asset Delivery in Flutter</a></li></ul></li></ul> </nav> <footer class="site-footer"> This site uses <a href="https://github.com/pmarsceill/just-the-docs">Just the Docs</a>, a documentation theme for Jekyll. </footer> </div> <div class="main" id="top"> <div id="main-header" class="main-header"> <div class="search"> <div class="search-input-wrap"> <input type="text" id="search-input" class="search-input" tabindex="0" placeholder="Search hello world" aria-label="Search hello world" autocomplete="off"> <label for="search-input" class="search-label"><svg viewBox="0 0 24 24" class="search-icon"><use xlink:href="#svg-search"></use></svg></label> </div> <div id="search-results" class="search-results"></div> </div> <nav aria-label="Auxiliary" class="aux-nav"> <ul class="aux-nav-list"> <li class="aux-nav-list-item"> <a href="https://github.com/yogurtpops" class="site-button" > Find me on GitHub </a> </li> </ul> </nav> </div> <div id="main-content-wrap" class="main-content-wrap"> <nav aria-label="Breadcrumb" class="breadcrumb-nav"> <ol class="breadcrumb-nav-list"> <li class="breadcrumb-nav-list-item"><a href="http://localhost:4000/flutter_2.html">Flutter Cheatsheet</a></li> <li class="breadcrumb-nav-list-item"><span>Alternatif Nested List</span></li> </ol> </nav> <div id="main-content" class="main-content" role="main"> <p>Bagaimana cara mengimplementasikan tampilan seperti ini di flutter? <img src="https://merry-drylands.cloudvent.net/assets/images/bad_listview.gif" alt="Alt Text" /></p> <p>Pilihan pertama kita jatuh pada <em>nested listview</em>, seperti dibawah ini</p> <div class="language-dart highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">ListView</span><span class="o">(</span>
    <span class="nl">controller:</span> <span class="n">scrollController</span><span class="o">,</span>
    <span class="nl">children:</span> <span class="o">[</span>
        <span class="n">Container</span><span class="o">(</span>
            <span class="nl">height:</span> <span class="mi">150</span><span class="o">,</span>
            <span class="nl">child:</span> <span class="n">Center</span><span class="o">(</span>
            <span class="nl">child:</span> <span class="n">Text</span><span class="o">(</span><span class="s">"Header"</span><span class="o">),</span>
            <span class="o">),</span>
        <span class="o">),</span>
        <span class="n">ListView</span><span class="o">.</span><span class="na">builder</span><span class="o">(</span>
            <span class="nl">shrinkWrap:</span> <span class="kc">true</span><span class="o">,</span>
            <span class="nl">physics:</span> <span class="n">NeverScrollableScrollPhysics</span><span class="o">(),</span>
            <span class="nl">itemBuilder:</span> <span class="o">(</span><span class="n">ctx</span><span class="o">,</span> <span class="n">index</span><span class="o">){</span>
            
            <span class="o">})</span>
    <span class="o">]</span>
<span class="o">)</span>
</code></pre></div></div> <p>Pada cara ini, kita menempatkan sebuah listview di dalam listview lainnya, sehingga kita mendapatkan efek scrolling seperti pada video. Perlu diperhatikan, listview di dalam widget dengan fungsi scroll memerlukan parameter <em>shrinkWrap</em> bernilai <em>true</em>, yang artinya fungsi <em>lazy load</em> dari listview tidak berfungsi. Apabila fungsi lazy load dimatikan, maka setiap item dalam listview akan mengalami rebuild setiap kali data dalam listview di update. Kita bisa memastikannya dengan membuka panel Flutter Performance. Setelah melakukan scrolling, Flutter Performance menunjukkan aktivitas berikut</p> <p><img src="https://merry-drylands.cloudvent.net/assets/images/bad_list_item_70.png" alt="Alt Text" /></p> <p>Pada panel Flutter Performance kita bisa melihat widget yang di build pada frame terakhir berjumlah 80, sementara yang terjadi pada saat kita melakukan scrolling adalah listview menampilkan 10 buah item baru. Kemungkinannya adalah, listview melakukan rebuild pada 70 item yang dimuat, baik item baru maupun item lama.</p> <p>Melakukan rebuild pada seluruh listview bisa berdampak pada performa aplikasi jika jumlah muatan listview semakin banyak. Saat kita melakukan scrolling pada halaman 100 misalnya, maka aplikasi melakukan rebuild pada 1000 item dalam satu kali scroll. Hal ini bisa membahayakan performa aplikasi. Sebagai alternatif, kita bisa menggunakan <em>CustomScrollView</em> untuk menghasilkan efek scroll bertingkat tanpa menggunakan parameter shrinkWrap. Maka dengan mengganti ListView terluar dengan CustomScrollView, kita bisa mendapatkan tampilan yang sama dengan code berikut</p> <div class="language-dart highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">CustomScrollView</span><span class="o">(</span>
    <span class="nl">controller:</span> <span class="n">scrollController</span><span class="o">,</span>
    <span class="nl">slivers:</span><span class="o">[</span>
        <span class="n">SliverToBoxAdapter</span><span class="o">(</span>
            <span class="nl">child:</span> <span class="n">Container</span><span class="o">(</span>
            <span class="nl">height:</span> <span class="mi">150</span><span class="o">,</span>
            <span class="nl">child:</span> <span class="n">Center</span><span class="o">(</span>
                <span class="nl">child:</span> <span class="n">Text</span><span class="o">(</span><span class="s">"Header"</span><span class="o">),</span>
            <span class="o">),</span>
            <span class="o">),</span>
        <span class="o">),</span>
        <span class="n">SliverList</span><span class="o">(</span>
            <span class="nl">delegate:</span> <span class="n">SliverChildBuilderDelegate</span><span class="o">(</span>
                <span class="o">(</span><span class="n">context</span><span class="o">,</span> <span class="n">index</span><span class="o">)</span> <span class="o">{</span>

                <span class="o">}</span>
            <span class="o">))</span>
    <span class="o">]</span>
<span class="o">)</span>
</code></pre></div></div> <p>Karakteristik dari CustomScrollView adalah child yang ada harus berupa Sliver Widget, sehingga kita perlu menggantikan ListView dengan SliverList. Untuk melihat bagaimana performa dari code ini, kita melakukan pengecekan pada Flutter Performance dengan case yang sama, dan berikut hasil scrolling hingga ke item 70 pada aplikasi yang sudah kita perbarui</p> <p><img src="https://merry-drylands.cloudvent.net/assets/images/good_list_item_70.png" alt="Alt Text" /></p> <p>Dengan improvement yang telah kita lakukan, sekarang jumlah rebuild yang dilakukan aplikasi dalam sekali scroll berjumlah konstan pada angka 16.</p> </div> </div> <div class="search-overlay"></div> </div> </body> </html>
